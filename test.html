<html>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
		<script src="scripts/jquery.fullscreen-min.js"></script>
		<script src="scripts/NoSleep.min.js"></script>
		<style>
			body {
				border: none;
				margin: 0;
				padding: 0;
				background-color: #000;
				text-align: center;
			}
			#btn-start,
			#btn-fullscreen {
				margin-top: 20%;
				font-size:100px;
				color: #fff;
				background-color: #000;
			}

			#btn-fullscreen {
				display: none;
			}
		</style>
	</head>
	
	<body>
		<button id="btn-start" type="button">START!</button>
		<button id="btn-fullscreen" type="button">Fullscreen</button>
	</body>

	<script>
	(function ($) {
		window.salvadora = {};
		
		var namespace = salvadora.fanBoard = {

			sequence: [],
			sequenceIndex: 0,
			
			init: function () {
				
				$('#btn-start').click(function(){
					$(this).hide();

					namespace.start();
				});

				$('#btn-fullscreen').click(function(){
					$(this).hide();

					namespace.activateFullscreen();
				});


				$(document).bind("fullscreenchange", function() {
					var isFullscreen = $(document).fullScreen();
					if(!isFullscreen){
						$('#btn-fullscreen').show();
					}
				});


				namespace.sequence.push({ color: '#000', duration: 600 });
				
				for(var i=0; i < 100; i++) {
					namespace.sequence.push({ color: '#FFF', duration: 100 });
					namespace.sequence.push({ color: '#000', duration: 400 });

					namespace.sequence.push({ color: '#FFF', duration: 100 });
					namespace.sequence.push({ color: '#000', duration: 400 });

					namespace.sequence.push({ color: '#FFF', duration: 100 });
					namespace.sequence.push({ color: '#000', duration: 500 });

					namespace.sequence.push({ color: '#FFF', duration: 100 });
					namespace.sequence.push({ color: '#000', duration: 200 });

					namespace.sequence.push({ color: '#FFF', duration: 100 });
					namespace.sequence.push({ color: '#000', duration: 600 });
				}
			},

			start: function() {
				namespace.activateFullscreen(); 

				var noSleep = new NoSleep();

				noSleep.enable(); // keep the screen on!

				namespace.executeStep();
			},

			activateFullscreen: function() { 
				$(document).fullScreen(true);
			},

			executeStep: function() { 
				if(namespace.sequenceIndex >= namespace.sequence.length) return;

				var sequenceStep = namespace.sequence[namespace.sequenceIndex];

				$('body').css('background-color', sequenceStep.color);

				namespace.sequenceIndex++;

				setTimeout(function(){ namespace.executeStep(); }, sequenceStep.duration);
			}
		};
	}(jQuery));

	$(document).ready(function () {
		salvadora.fanBoard.init();
	});
	</script>
</html>